<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
	<title>융합캡스톤디자인</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Favicon -->
	<link rel="shortcut icon" href="favicon.ico">

	<!-- Web Fonts -->
	<link rel='stylesheet' type='text/css' href='//fonts.googleapis.com/css?family=Noto+Sans'>

	<!-- CSS Global Compulsory -->
	<link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<!-- CSS Header and Footer -->
	<link rel="stylesheet" href="assets/css/headers/header-default.css">
	<link rel="stylesheet" href="assets/css/footers/footer-v1.css">

	<!-- CSS Implementing Plugins -->
	<link rel="stylesheet" href="assets/plugins/animate.css">
	<link rel="stylesheet" href="assets/plugins/line-icons/line-icons.css">
	<link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/plugins/sky-forms-pro/skyforms/css/sky-forms.css">
	<link rel="stylesheet" href="assets/plugins/sky-forms-pro/skyforms/custom/custom-sky-forms.css">
	<link rel="stylesheet" href="assets/plugins/cube-portfolio/cubeportfolio/css/cubeportfolio.css">
	<link rel="stylesheet" href="assets/plugins/cube-portfolio/cubeportfolio/custom/custom-cubeportfolio.css">
	

	<!-- CSS Page Style -->
	<link rel="stylesheet" href="assets/css/pages/page_search_inner.css">

	<!-- CSS Theme -->
	<link rel="stylesheet" href="assets/css/theme-colors/default.css" id="style_color">

	<!-- CSS Customization -->
	<link rel="stylesheet" href="assets/css/custom.css">
</head>

<body>
	<div class="wrapper">


		<!--=== Breadcrumbs ===-->
		<div class="breadcrumbs breadcrumbs-light">
			<div class="container">
				<h1 class="pull-left">프로젝트</h1>
				<ul class="pull-right breadcrumb">
					<li><a href="index.html">Home</a></li>
					<li class="active">프로젝트</li>
				</ul>
			</div>
		</div>
		<!--=== End Breadcrumbs ===-->

		<!--=== Search Block Version 2 ===-->
		<div class="search-block-v2">
			<div class="container">
				<div class="col-md-6 col-md-offset-3">
					<h2>프로젝트를 검색해보세요.</h2>
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Search words with regular expressions ...">
						<span class="input-group-btn">
							<button class="btn-u" type="button"><i class="fa fa-search"></i></button>
						</span>
					</div>
				</div>
			</div>
		</div><!--/container-->
		<!--=== End Search Block Version 2 ===-->

		<!--=== Search Results ===-->
		<div class="container s-results margin-bottom-50">
			<div class="row">
				<div class="col-md-2 hidden-xs related-search">
					<div class="row">
						<div class="col-md-12 col-sm-4">
							<h3>Categories</h3>
							<div id="filters-container" class="cbp-l-filters-text list-unstyled">
								<div data-filter="*" class="cbp-filter-item-active cbp-filter-item">전체</div>
								<div data-filter=".mech" class="cbp-filter-item">기계/항공</div>
								<div data-filter=".elec" class="cbp-filter-item">전기/전자</div>
								<div data-filter=".soft" class="cbp-filter-item">소프트웨어</div>
								<div data-filter=".arch" class="cbp-filter-item">건축/환경</div>
								<div data-filter=".ener" class="cbp-filter-item">화공/에너지</div>
								<div data-filter=".scie" class="cbp-filter-item">자연과학</div>
								<div data-filter=".desi" class="cbp-filter-item">예술/디자인</div>
								<div data-filter=".educ" class="cbp-filter-item">생활/교육</div>
								<div data-filter=".misc" class="cbp-filter-item">기타 </div>
							</div>							
							<hr><!-- <hr> -->
							<h3>Sort by</h3>
							<div id="filters-container" class="cbp-l-filters-text list-unstyled">
								<div class="cbp-filter-item-active cbp-filter-item">조회수 많은 순</div>
								<div class="cbp-filter-item">최근 등록 순</div>
							</div>
						</div>						
					</div>
				</div><!--/col-md-2-->
				<div class="col-md-10">
					<span class="results-number">총 1000 프로젝트
					<button class="btn-u pull-right" type="button" data-toggle="modal" data-target="#responsive">신규 프로젝트 등록</button>
					</span>
					<!--=== Cube-Portfdlio ===-->
					<div class="cube-portfolio margin-bottom-60">
						<div id="grid-container" class="cbp-l-grid-agency">			
						</div><!--/end Grid Container-->
					</div>
					<!--=== End Cube-Portfdlio ===-->
					<div class="margin-bottom-30"></div>			
				</div><!--/col-md-10-->
			</div><!-- row -->
		</div><!--/container-->
	</div><!--/End Wrapepr-->

	<!-- 신규 프로젝트 등록 팝업 -->
	<div class="modal fade" id="responsive" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel4">신규 프로젝트 등록</h4>
				</div>

				<div class="panel-body sky-form">
					<form class="form-horizontal sky-form no-border" role="form">
					
						<div class="form-group">
							<label for="inputCategory" class="col-lg-2 control-label">분야</label>
							<div class="col-lg-10 inline-group jen-checkbox">
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline" checked><i></i>기계/항공</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>전기/전자</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>웹/앱</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>건축/환경</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>화공/에너지</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>자연과학</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>예술/디자인</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>생활/교육</label>
								<label class="checkbox jen-checkbox-item"><input type="checkbox" name="checkbox-inline"><i></i>기타</label>
							</div>
						</div>											

						<div class="form-group">
							<label for="inputTitle" class="col-lg-2 control-label">프로젝트명:</label>
							<div class="col-lg-10">
								<input type="text" class="form-control" id="inputTitle" placeholder="프로젝트명">
							</div>
						</div>
						<div class="form-group">
							<label for="inputIntro" class="col-lg-2 control-label">요약글:</label>
							<div class="col-lg-10">
								<input type="text" class="form-control" id="inputIntro" placeholder="한 줄 소개">
							</div>
						</div>
						<div class="form-group">
							<label for="inputDesc" class="col-lg-2 control-label">소개글:</label>
							<div class="col-lg-10 textarea">
								<textarea id="inputDesc" class="form-control" rows="5" placeholder="프로젝트를 소개해주세요."></textarea>
							</div>
						</div>
						<div class="form-group">
							<label for="inputDate" class="col-lg-2 control-label">기간:</label>
							<div class="col-lg-10 inline-group">
								<div class="col-4 date-picker">
									<label class="input">
										<i class="icon-append fa fa-calendar"></i>
										<input type="text" name="start" id="start" placeholder="Start date">
									</label>
								</div>
								<div class="col-4 date-picker">
									<label class="input">
										<i class="icon-append fa fa-calendar"></i>
										<input type="text" name="finish" id="finish" placeholder="Expected finish date">
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="inputImage" class="col-lg-2 control-label">대표이미지:</label>
							<div class="col-lg-10">
								<label for="file" class="input input-file">
									<div class="button"><input type="file" id="file" onchange="this.parentNode.nextSibling.value = this.value">Browse</div><input type="text" readonly>
								</label>
							</div>
						</div>
					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn-u btn-u-default" data-dismiss="modal">취소</button>
					<button type="submit" class="btn-u btn-u-primary">프로젝트 생성</button>
				</div>
			</div>
		</div>
	</div>
	<!-- End 프로젝트 등록 팝업 -->


	<!-- JS Global Compulsory -->
	<script type="text/javascript" src="assets/plugins/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="assets/plugins/jquery/jquery-migrate.min.js"></script>
	<script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
	<!-- JS Implementing Plugins -->
	<script type="text/javascript" src="assets/plugins/back-to-top.js"></script>
	<script type="text/javascript" src="assets/plugins/smoothScroll.js"></script>
	<script src="assets/plugins/sky-forms-pro/skyforms/js/jquery.maskedinput.min.js"></script>
	<script src="assets/plugins/sky-forms-pro/skyforms/js/jquery-ui.min.js"></script>
	<script src="assets/plugins/sky-forms-pro/skyforms/js/jquery.validate.min.js"></script>
	<script type="text/javascript" src="assets/plugins/cube-portfolio/cubeportfolio/js/jquery.cubeportfolio.js"></script>
	<script type="text/javascript" src="assets/js/plugins/datepicker.js"></script>
	<script type="text/javascript" src="assets/js/plugins/validation.js"></script>
	<!-- JS Customization -->
	<script type="text/javascript" src="assets/js/custom.js"></script>
	<!-- JS Page Level -->
	<script type="text/javascript" src="assets/js/app.js"></script>
	<script type="text/javascript" src="assets/js/plugins/cube-portfolio/cube-portfolio-3.js"></script>
	<script type="text/javascript">
	function map_one(fieldName) {
		switch(fieldName) {
		case "기계/항공":
			return "mech";
		case "전기/전자":
			return "elec";
		case "소프트웨어":
			return "soft";
		case "건축/환경":
			return "arch";
		case "화공/에너지":
			return "ener";
		case "자연과학":
			return "scie";
		case "예술/디자인":
			return "desi";
		case "생활/교육":
			return "educ";
		case "기타":
			return "misc";
		}
		return "";
	}

	function map(fields,func){
		var result='';
		for(i in fields){
			alert(fields[i]);
			alert(func(fields[i]));
			result+=func(fields[i])+' ';
		}
		return result;
	}
	

		jQuery(document).ready(function() {
			App.init();
			Datepicker.initDatepicker();
			Validation.initValidation();
			
			$.getJSON('http://'+document.location.host+'/project/all/view', function(res){
				var projects=res.result;
				for(p in projects){
					alert(JSON.stringify(projects[p]));
					var htmlFragment=
					'<div class="cbp-item'+ map(projects[p].field,map_one)+'">'+
					'<div class="cbp-caption margin-bottom-10">'+
						'<div class="cbp-caption-defaultWrap easy-block-v1">'+
							'<img src="assets/img/main/img1.jpg" alt="">'+
						'</div>'+
						'<div class="cbp-caption-activeWrap">'+
							'<div class="cbp-l-caption-alignCenter">'+
								'<div class="cbp-l-caption-body">'+
									'<ul class="link-captions no-bottom-space">'+
									'<li><a href="portfolio_single_item.html?id='+projects[p]._id+'"><i class="rounded-x fa fa-search-plus"></i></a></li>'+
									'</ul>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
					'<div class="cbp-title-dark project-box">'+
						'<div class="headline-left margin-bottom-10 project_title">'+projects[p].name+'</div>'+
							'<small class="project-tag"><span class="color-green">분야: &nbsp;</span><a href="#">'+map(projects[p].field,function(a){return a+', '})+'</a></small>'+
							'<small class="project-tag"><span class="color-green">기간: &nbsp;</span>2016/03~2016/12</small>'+
							'<p>'+projects[p].shortIntro+'</p>'+
						'</div>'+
					'</div>';

					alert(htmlFragment);
					$("#grid-container").append($(htmlFragment));
				}
			});
		});
	</script>
	<!--[if lt IE 9]>
	<script src="assets/plugins/respond.js"></script>
	<script src="assets/plugins/html5shiv.js"></script>
	<script src="assets/plugins/placeholder-IE-fixes.js"></script>
	<![endif]-->
</body>
</html>
